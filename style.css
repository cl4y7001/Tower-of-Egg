/* =====================
   å…¨åŸŸå®‰å…¨è¨­å®š
===================== */
* {
  box-sizing: border-box;
  caret-color: transparent; /* ğŸ”¥ é—œæ‰ | æ¸¸æ¨™ */
}

html, body {
  margin: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: #000;
  font-family: system-ui, -apple-system, "Noto Sans TC", sans-serif;
  color: #fff;
}

/* =====================
   èƒŒæ™¯å±¤ï¼ˆå®Œæ•´é¡¯ç¤ºï¼‰
===================== */
#bg {
  position: fixed;
  inset: 0;
  background-image: url("assets/background.png");
  background-repeat: no-repeat;
  background-position: center top;
  background-size: contain;   /* ğŸ”¥ ä¸ç¡¬å¡ */
  background-color: #000;     /* ç•™ç™½è£œè‰² */
  z-index: 0;
}

/* =====================
   HUD / ä»»å‹™æ–‡å­—
===================== */
#hud {
  position: fixed;
  top: 16px;
  left: 24px;
  z-index: 3;
  max-width: 45%;
  pointer-events: none;
}

#hud h1 {
  margin: 0 0 6px;
  font-size: 1.4rem;
}

#goalText {
  margin: 0;
  opacity: 0.9;
}

.hint {
  margin-top: 4px;
  font-size: 0.85rem;
  opacity: 0.7;
}

/* =====================
   éŠæˆ²å±¤ï¼ˆè²¼åº•ï¼‰
===================== */
:root {
  --game-height: 45vh;   /* â­ éŠæˆ²ä½”ç•«é¢é«˜åº¦ */
  --base-width: 350px;   /* â­ çŸ³å°å¤§å° */
  --overlap: -35px;      /* â­ å¡”èˆ‡çŸ³å°ç–Šåˆ */
}

#game {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: var(--game-height);
  padding: 0 5vw 24px;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  z-index: 2;
}

/* =====================
   å¡”ä½ï¼ˆpegï¼‰
===================== */
.peg {
  position: relative;
  flex: 1;
  display: flex;
  flex-direction: column-reverse;
  align-items: center;
  outline: none;
  user-select: none;
}

/* çŸ³å° */
.base {
  width: var(--base-width);
  pointer-events: none;
  z-index: 0;
}

/* =====================
   è›‹ï¼ˆblockï¼‰
===================== */
.block {
  position: relative;
  margin-bottom: var(--overlap);
  pointer-events: none;
  transition: transform 0.2s, box-shadow 0.2s;
}

/* æœ€ä¸Šå±¤å¯æ“ä½œ */
.block.active {
  pointer-events: auto;
  cursor: pointer;
  animation: glow 1.3s infinite alternate;
}

/* è¢«é¸å– */
.block.selected {
  outline: 2px solid gold;
  outline-offset: 4px;
}

/* ç™¼å…‰å‹•ç•« */
@keyframes glow {
  from { transform: translateY(0); box-shadow: 0 0 0 gold; }
  to   { transform: translateY(-6px); box-shadow: 0 0 18px gold; }
}

/* =====================
   è¨Šæ¯
===================== */
#message {
  position: fixed;
  top: 20%;                 /* â­ Yï¼šåœ¨ç•«é¢ä¸Šæ–¹ï¼ˆå¯èª¿ï¼‰ */
  left: 50%;                /* Xï¼šç½®ä¸­ */
  transform: translateX(-50%);
  z-index: 4;
  color: rgb(255, 255, 255);
  font-size: 2.2rem;
  text-align: center;
  pointer-events: none;
}
/* =====================
   éé—œ Congrats Overlay
===================== */
#congrats {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.75);
  display: none;                 /* é è¨­ä¸é¡¯ç¤º */
  align-items: center;
  justify-content: center;
  z-index: 999;
}

#congrats img {
  max-width: 70%;
  max-height: 70%;
  animation: popIn 0.6s ease-out;
}

/* å½ˆå‡ºå‹•ç•« */
@keyframes popIn {
  from {
    transform: scale(0.7);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}
